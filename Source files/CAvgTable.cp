// ===========================================================================//	CAvgTable.cp					©1998 Metrowerks Inc. All rights reserved.// ===========================================================================#include "CAvgTable.h"#include "CSpike6App.h"#include "CSettingsWindow.h"// ---------------------------------------------------------------------------//		¥ CAvgTable// ---------------------------------------------------------------------------CAvgTable::CAvgTable(	LStream		*inStream)		: LTable(inStream){SetCellDataSize(sizeof(Float64));SInt32 mynum;//now fill the table with data from avgarraySInt32 i;TableCellT cellmy;		CSpike6App::sAvgCol2->FetchItemAt(1, &mynum);SInt32 rowstoadd, colstoadd;colstoadd = CSpike6App::sAvDim2 -1;rowstoadd = CSpike6App::sAvgCol2->GetCount() - 1;InsertCols(colstoadd,1,&mynum);InsertRows(rowstoadd,1,&mynum);for (i=1;i<=mRows;i++)	{	CSpike6App::sAvgCol1->FetchItemAt(i, &mynum);	cellmy.col = i;	cellmy.row = 1;	SetCellData(cellmy, &mynum);	CSpike6App::sAvgCol2->FetchItemAt(i, &mynum);	cellmy.row = 2;	SetCellData(cellmy, &mynum);	if (CSpike6App::sAvDim2 == 3)		{		CSpike6App::sAvgCol3->FetchItemAt(i, &mynum);		cellmy.row = 3;		//SetCellData(cellmy, &mynum);		SetCellData(cellmy, &mynum);		}	}}// ---------------------------------------------------------------------------//		¥ ~CAvgTable// ---------------------------------------------------------------------------CAvgTable::~CAvgTable(){}// ---------------------------------------------------------------------------//		¥ DrawCell// ---------------------------------------------------------------------------voidCAvgTable::DrawCell(	const TableCellT	&inCell)	{	SInt32 mynum=100,mynum1=-100;	Rect	cellFrame;	if (FetchLocalCellFrame(inCell, cellFrame)) 		{		::EraseRect(&cellFrame);		TextFont(applFont);		TextSize(9);		MoveTo(cellFrame.left + 4, cellFrame.bottom - 4);		Str31	str;		if (inCell.col==1)			{			CSpike6App::sAvgCol1->FetchItemAt(inCell.row, &mynum);			NumToString(mynum, str);			DrawString(str);			}		else if (inCell.col==2)			{			CSpike6App::sAvgCol2->FetchItemAt(inCell.row, &mynum);			NumToString(mynum, str);			DrawString(str);			}		else if (inCell.col==3)			{			CSpike6App::sAvgCol3->FetchItemAt(inCell.row, &mynum);			CSpike6App::sAvgCol4->FetchItemAt(inCell.row, &mynum1);			mynum=mynum-mynum1;			NumToString(mynum, str);			DrawString(str);			}		}	}